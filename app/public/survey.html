<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <title>Friend Finder - Survey</title>
</head>

<body>
    <div class="container col-sm-12 col-md-6 ">
        <div class="jumbotron text-center">
            <h1>Friend Match</h1>
            <h3>Complete your Survey</h3>
            <hr>
            <a href="/"><button class="btn btn-default btn-lg"><span class="glyphicon glyphicon-home"> Home</span></button></a>
        </div>
        <div class="row">
            <div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><strong>Friend Survey</strong></h3>
                        <p>Please rate each question by how important or interesting it is to you.</p>
                    </div>

                    <form>
                        <div class="container">
                            <div class="row">
                                <div class="form-group">
                                    <p>Please enter your name</p>
                                    <div class=" col-sm-2 col-md-1"><label for="name">Name</label></div>
                                    <div class=" col-sm-10 col-md-5"><input type="text" class="form-control" id="name" placeholder="Name"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class=" col-sm-8 col-md-4">How many social media accounts do you have?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q1">
                                            <option disabled selected value> -- select -- </option>
                                            <option value=1>1 or None</option>
                                            <option value=2>2</option>
                                            <option value=3>3</option>
                                            <option value=4>4</option>
                                            <option value=5>5 or more</option>
                                        </select></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How Liberal / Conservative are you?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q2">
                                            <option disabled selected value> -- select -- </option>
                                            <option value=1>Very Liberal</option>
                                            <option value=2>Somewhat Liberal</option>
                                            <option value=3>Very Centrist</option>
                                            <option value=4>Somewhat Conservative</option>
                                            <option value=5>Very Conservative</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">Do you enjoy playing board games, cards, or other tabletop games?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q3">
                                            <option disabled selected value> -- select -- </option>
                                            <option value=1>Not at all</option>
                                            <option value=2>I only play if everyone else is</option>
                                            <option value=3>I enjoy it once in a while</option>
                                            <option value=4>I play regularly</option>
                                            <option value=5>I actively recruit other players</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How religious/spiritual are you?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q4">
                                            <option disabled selected value> -- select -- </option>
                                            <option value=1>I'm a confirmed Athiest</option>
                                            <option value=2>I'm agnostic</option>
                                            <option value=3>I believe, but don't practice</option>
                                            <option value=4>I follow some of the tenets</option>
                                            <option value=5>I'm a devout believer</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How much of a Foodie are you?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q5">
                                                <option disabled selected value> -- select -- </option>
                                                <option value=1>I don't like food I don't know</option>
                                            <option value=2>I'm nervous about strange food</option>
                                            <option value=3>It depends on what it looks like</option>
                                            <option value=4>I like to try new things</option>
                                            <option value=5>I'll eat anything and blog it!</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How much do you read for fun?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q6">
                                                <option disabled selected value> -- select -- </option>
                                                <option value=1>Who reads for fun?</option>
                                            <option value=2>I've read a couple of books</option>
                                            <option value=3>I read all the Harry Potter books</option>
                                            <option value=4>I read a couple books a year</option>
                                            <option value=5>At least a book a week</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How much music do you own?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q7">
                                                <option disabled selected value> -- select -- </option>
                                                <option value=1>I only listen to the radio</option>
                                            <option value=2>I have a streaming account</option>
                                            <option value=3>I have a few albums worth</option>
                                            <option value=4>I collect everything from my favorite bands</option>
                                            <option value=5>I could listen for a year and never repeat a song.</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">Are you more likely to stay in or go out on a Friday night?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q8">
                                                <option disabled selected value> -- select -- </option>
                                                <option value=1>Always stay in</option>
                                            <option value=2>Go out a couple times a year</option>
                                            <option value=3>Go out maybe once a month</option>
                                            <option value=4>Go out a couple times a month</option>
                                            <option value=5>Always go out</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How often do you discuss polarizing or controversial issues?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q9">
                                                <option disabled selected value> -- select -- </option>
                                                <option value=1>I go out of my way to avoid them</option>
                                            <option value=2>I will share if I feel strongly about something</option>
                                            <option value=3>I sometimes participate in a group discussion</option>
                                            <option value=4>I will challenge people who disagree with me</option>
                                            <option value=5>I will challenge anyone just to hear their opinion</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-8 col-md-4">How important is it for your friend have similar interests and views as you?</div>
                                    <div class=" col-sm-4 col-md-2">
                                        <select required class="form-control" id="q10">
                                            <option disabled selected value> -- select -- </option>
                                            <option value=1>Who cares?</option>
                                            <option value=2>If we do, that's cool</option>
                                            <option value=3>It helps to have something in common</option>
                                            <option value=4>It's kind of important</option>
                                            <option value=5>It's very important</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="text-left">
                                <button type="submit" class="btn btn-primary btn-md" id="submit-btn">Submit</button>
                            </div>
                    </form>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            // Post input when search button is clicked
            $("#submit-btn").on("click", function(event) {
                event.preventDefault();
                var survey = [];
                survey.push(parseInt($("#q1").val()));
                survey.push(parseInt($("#q2").val()));
                survey.push(parseInt($("#q3").val()));
                survey.push(parseInt($("#q4").val()));
                survey.push(parseInt($("#q5").val()));
                survey.push(parseInt($("#q6").val()));
                survey.push(parseInt($("#q7").val()));
                survey.push(parseInt($("#q8").val()));
                survey.push(parseInt($("#q9").val()));
                survey.push(parseInt($("#q10").val()));
                var newSurvey = {
                    name: $("#name").val().trim(),
                    scores: survey
                };
                // console.log("survey.html", newSurvey);
                // Post new client
                $.post("/api/friends/add", newSurvey)
                    .then(function(data) {
                        console.log("survey.html", data);
                        window.location.replace("/view?friend=" + data);
                    });
            });
        </script>
        <style>
            .input-group-addon {
                min-width: 200px;
                max-width: 200px;
                text-align: left;
            }
            
            .row {
                margin-right: 0;
                margin-left: 0;
            }
        </style>
</body>

</html>